<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Mapa Industria Animal – Animal Law Focus</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />

  <style>
    html, body {<div id="floating-panel">
  <h3>Animal Law Focus</h3>
  <p>
    Mapa de la industria animal en Chile (v2)
    <br>
    <small>
      Basado en la versión beta creada por Cole Haynes
      <br>
      en colaboración con Animal Law Focus
    </small>
  </p>
</div>

      height: 100%;
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
    }

    header {
      padding: 10px 14px;
      border-bottom: 1px solid #e5e5e5;
      background: #ffffff;
      z-index: 1000;
      position: relative;
    }

    header strong {
      display: block;
      font-size: 16px;
    }

    header span {
      font-size: 13px;
      color: #555;
    }

    #map {
      width: 100%;
      height: calc(100vh - 58px);
    }
  </style>
 <style>
  #floating-panel {
    position: absolute;
    top: 80px;
    left: 20px;
    width: 260px;
    background: white;
    border-radius: 8px;
    padding: 14px;
    box-shadow: 0 4px 14px rgba(0,0,0,0.2);
    z-index: 1000;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  }

  #floating-panel h3 {
    margin: 0 0 6px 0;
    font-size: 16px;
  }

  #floating-panel p {
    margin: 0;
    font-size: 13px;
    color: #555;
    line-height: 1.4;
  }

  #floating-panel small {
    color: #777;
    font-size: 11px;
  }
</style>

</head>
<body>

  <header>
    <strong>Animal Law Focus</strong>
    <span>Mapa de la industria animal en Chile (v2)</span>
  </header>

  <div id="map"></div>
  <!-- Caja flotante -->
<div id="floating-panel">
  <h3>Panel de control</h3>
  <p>(en construcción)</p>
</div>

  <!-- Leaflet JS -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>

  <script>
    // =========================
    // INICIALIZAR MAPA
    // =========================
    const map = L.map('map', {
      center: [-33.45, -70.66], // Santiago
      zoom: 6,
      zoomControl: true
    });

    // =========================
    // CAPAS BASE
    // =========================

    // Satélite (imagen)
    const satellite = L.tileLayer(
      'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
      {
        maxZoom: 19,
        attribution:
          'Imagery © Esri — Source: Maxar, Earthstar Geographics'
      }
    );

    // Etiquetas: ciudades, fronteras, carreteras
    const labels = L.tileLayer(
      'https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}',
      {
        maxZoom: 19,
        attribution: 'Labels © Esri',
        pane: 'overlayPane'
      }
    );

    // Mapa clásico (OpenStreetMap)
    const osm = L.tileLayer(
      'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
      {
        maxZoom: 18,
        attribution: '&copy; OpenStreetMap contributors'
      }
    );

    // =========================
    // AÑADIR CAPAS POR DEFECTO
    // =========================
    satellite.addTo(map);
    labels.addTo(map);

    // =========================
    // CONTROL DE CAPAS
    // =========================
    L.control.layers(
      {
        "Satélite": satellite,
        "Mapa": osm
      },
      {
        "Etiquetas (ciudades / límites)": labels
      },
      {
        collapsed: false
      }
    ).addTo(map);
  </script>

</body>
</html>
